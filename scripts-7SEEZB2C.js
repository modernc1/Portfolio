"use strict";var _cc=function(){function e(n,o){for(var a=0;a<o.length;a++){var r=o[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,a){return o&&e(n.prototype,o),a&&e(n,a),n}}();function _ccc(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(function(e){function n(s,i){var t=Math.tan(.017453*Math.abs(s));return Math.ceil(i*t)}function o(s){var i=void 0;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(s)?((i=s.substring(1).split("")).length===3&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),{r:(i="0x"+i.join(""))>>16&255,g:i>>8&255,b:255&i}):{r:0,g:0,b:0}}var a=function(){function s(i,t,h){_ccc(this,s),this.o=h,this.r=o(i),this.d=this.grd(),this.h=this.grs(),this.s=Math.abs(this.gnfr(this.o.size)),this.srpgq(t),this.vx=this.gnfr(this.o.speed.x)*this.grd(),this.vy=this.gnfr(this.o.speed.y)*this.grd()}return _cc(s,[{key:"srpgq",value:function(i){var t=this.srpiq();return i===3?(this.x=t.x+t.halfWidth,void(this.y=t.y)):i===2?(this.x=t.x,void(this.y=t.y+t.halfHeight)):i===1?(this.x=t.x+t.halfWidth,void(this.y=t.y+t.halfHeight)):(this.x=t.x,void(this.y=t.y))}},{key:"srpiq",value:function(){var i=this.o.c.w/2,t=this.o.c.h/2;return{x:Math.random()*i,y:Math.random()*t,halfHeight:t,halfWidth:i}}},{key:"gnfr",value:function(i){if(i.min===i.max)return i.min;var t=i.max-i.min;return Math.random()*t+i.min}},{key:"grd",value:function(){return Math.random()>.5?1:-1}},{key:"grs",value:function(){return this.o.shapes[Math.floor(Math.random()*this.o.shapes.length)]}},{key:"gr",value:function(i,t){return"rgba("+i.r+", "+i.g+", "+i.b+", "+t+")"}},{key:"an",value:function(i,t,h){this.o.size.pulse&&(this.s+=this.o.size.pulse*this.d,(this.s>this.o.size.max||this.s<this.o.size.min)&&(this.d*=-1),this.s=Math.abs(this.s)),this.x+=this.vx,this.y+=this.vy,this.x<0?(this.vx*=-1,this.x+=1):this.x>t&&(this.vx*=-1,this.x-=1),this.y<0?(this.vy*=-1,this.y+=1):this.y>h&&(this.vy*=-1,this.y-=1),i.beginPath(),this.o.blending&&this.o.blending!=="none"&&(i.globalCompositeOperation=this.o.blending);var l=this.gr(this.r,this.o.opacity.center),p=this.gr(this.r,this.o.opacity.edge),b=this.h==="c"?this.s/2:this.h==="t"?.577*this.s:this.h==="s"?.707*this.s:this.s,u=i.createRadialGradient(this.x,this.y,.01,this.x,this.y,b);u.addColorStop(0,l),u.addColorStop(1,p),i.fillStyle=u;var c=Math.abs(this.s/2);if(this.h==="c"&&i.arc(this.x,this.y,c,0,6.283185,!1),this.h==="s"){var d=this.x-c,f=this.x+c,v=this.y-c,g=this.y+c;i.moveTo(d,g),i.lineTo(f,g),i.lineTo(f,v),i.lineTo(d,v)}if(this.h==="t"){var y=n(30,c),x=this.y+y;i.moveTo(this.x-c,x),i.lineTo(this.x+c,x),i.lineTo(this.x,this.y-2*y)}i.closePath(),i.fill()}}]),s}(),r=function(){function s(i){var t=this;_ccc(this,s),this.c=document.createElement("canvas"),this.x=this.c.getContext("2d"),this.c.setAttribute("id","finisher-canvas"),this.gr(i.className).appendChild(this.c);var h=void 0;e.addEventListener("resize",function(){clearTimeout(h),h=setTimeout(t.resize.bind(t),150)},!1),this.init(i),e.requestAnimationFrame(this.an.bind(this))}return _cc(s,[{key:"gr",value:function(i){var t=document.getElementsByClassName(i||"finisher-header");if(!t.length)throw new Error("No .finisher-header element found");return t[0]}},{key:"resize",value:function(){var i=this.gr(this.o.className);this.o.c={w:i.clientWidth,h:i.clientHeight},this.c.width=this.o.c.w,this.c.height=this.o.c.h;var t=n(this.o.skew,this.o.c.w/2),h="skewY("+this.o.skew+"deg) translateY(-"+t+"px)";this.c.setAttribute("style","position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;-webkit-transform:"+h+";transform:"+h+";outline: 1px solid transparent;background-color:rgba("+this.bc.r+","+this.bc.g+","+this.bc.b+",1);")}},{key:"init",value:function(i){this.o=i,this.bc=o(this.o.colors.background),this.ps=[],this.resize(),this.cp()}},{key:"cp",value:function(){var i=0;this.ps=[],this.o.ac=e.innerWidth<600&&this.o.count>5?Math.round(this.o.count/2):this.o.count;for(var t=0;t<this.o.ac;t++){var h=t%4,l=new a(this.o.colors.particles[i],h,this.o);++i>=this.o.colors.particles.length&&(i=0),this.ps[t]=l}}},{key:"an",value:function(){e.requestAnimationFrame(this.an.bind(this)),this.x.clearRect(0,0,this.o.c.w,this.o.c.h);for(var i=0;i<this.o.ac;i++)this.ps[i].an(this.x,this.o.c.w,this.o.c.h)}}]),s}();e.FinisherHeader=r})(window);
